# ВАЖНО: Исправление паролей пользователей

## Проблема
Ранее созданные пользователи через админ панель имеют незахэшированные пароли в базе данных, из-за чего невозможно войти в систему.

## Решение

### Вариант 1: Удалить существующих пользователей и создать заново
Выполните в PostgreSQL:

```sql
-- Удалить всех пользователей (ОСТОРОЖНО!)
DELETE FROM users;

-- Или удалить пользователей с незашифрованными паролями
DELETE FROM users WHERE LENGTH(password) < 50;
```

После этого создайте пользователей заново через админ панель - теперь пароли будут правильно хэшироваться.

### Вариант 2: Обновить пароли существующих пользователей
Если нужно сохранить пользователей, установите новые пароли через админ панель (функция "Редактировать").

## Тестовый пользователь для проверки

После запуска сервера (`npm run dev` в папке server), создайте через админ панель:

**Мебельщик:**
- Имя: Тестовый Мебельщик
- Email: master@test.com
- Пароль: test123
- Роль: master

**Заказчик:**
- Имя: Тестовый Заказчик
- Email: customer@test.com
- Пароль: test123
- Роль: customer

## Изменения в коде

✅ Добавлено хэширование паролей в `adminController.ts`:
- При создании пользователя (`createUser`)
- При обновлении пароля (`updateUser`)

✅ Добавлен редирект для мебельщика в `AuthModal.tsx`:
- admin → `/admin`
- master → `/master-dashboard`
- customer → `/dashboard`

## Проверка входа

1. Создайте пользователя через админ панель (http://localhost:5173/admin)
2. Выйдите из админки
3. Попробуйте войти с созданными credentials
4. Должен произойти редирект на соответствующую панель
